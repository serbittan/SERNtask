function cov_1g2of9jqo6(){var path="/Users/sergibittangonzalez/Desktop/SERNtask/serntask-server/logic/retrieve-tasks.spec.js";var hash="e9c9f6dc5e7d7aef3402f60503fc3e91fb31d28d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/sergibittangonzalez/Desktop/SERNtask/serntask-server/logic/retrieve-tasks.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:2,column:19},end:{line:2,column:34}},"2":{start:{line:3,column:38},end:{line:3,column:45}},"3":{start:{line:4,column:54},end:{line:4,column:78}},"4":{start:{line:6,column:19},end:{line:6,column:23}},"5":{start:{line:7,column:22},end:{line:7,column:49}},"6":{start:{line:10,column:0},end:{line:142,column:2}},"7":{start:{line:11,column:4},end:{line:17,column:6}},"8":{start:{line:12,column:8},end:{line:15,column:10}},"9":{start:{line:16,column:8},end:{line:16,column:74}},"10":{start:{line:19,column:4},end:{line:27,column:6}},"11":{start:{line:20,column:8},end:{line:20,column:33}},"12":{start:{line:21,column:8},end:{line:21,column:44}},"13":{start:{line:22,column:8},end:{line:22,column:41}},"14":{start:{line:24,column:8},end:{line:24,column:47}},"15":{start:{line:26,column:8},end:{line:26,column:41}},"16":{start:{line:29,column:4},end:{line:62,column:6}},"17":{start:{line:32,column:8},end:{line:48,column:10}},"18":{start:{line:34,column:25},end:{line:34,column:69}},"19":{start:{line:35,column:12},end:{line:35,column:24}},"20":{start:{line:38,column:28},end:{line:38,column:64}},"21":{start:{line:39,column:12},end:{line:39,column:33}},"22":{start:{line:41,column:12},end:{line:41,column:32}},"23":{start:{line:43,column:12},end:{line:43,column:32}},"24":{start:{line:46,column:25},end:{line:46,column:81}},"25":{start:{line:47,column:12},end:{line:47,column:28}},"26":{start:{line:50,column:8},end:{line:61,column:10}},"27":{start:{line:51,column:26},end:{line:51,column:59}},"28":{start:{line:53,column:12},end:{line:53,column:34}},"29":{start:{line:54,column:12},end:{line:54,column:43}},"30":{start:{line:55,column:12},end:{line:55,column:43}},"31":{start:{line:56,column:12},end:{line:56,column:49}},"32":{start:{line:57,column:12},end:{line:57,column:55}},"33":{start:{line:58,column:12},end:{line:58,column:47}},"34":{start:{line:59,column:12},end:{line:59,column:69}},"35":{start:{line:60,column:12},end:{line:60,column:59}},"36":{start:{line:64,column:4},end:{line:98,column:6}},"37":{start:{line:67,column:8},end:{line:86,column:10}},"38":{start:{line:69,column:25},end:{line:69,column:69}},"39":{start:{line:70,column:12},end:{line:70,column:24}},"40":{start:{line:73,column:28},end:{line:73,column:71}},"41":{start:{line:74,column:12},end:{line:74,column:33}},"42":{start:{line:76,column:12},end:{line:76,column:32}},"43":{start:{line:78,column:12},end:{line:78,column:32}},"44":{start:{line:81,column:25},end:{line:81,column:81}},"45":{start:{line:82,column:12},end:{line:82,column:28}},"46":{start:{line:85,column:12},end:{line:85,column:35}},"47":{start:{line:88,column:8},end:{line:97,column:10}},"48":{start:{line:89,column:12},end:{line:96,column:13}},"49":{start:{line:90,column:30},end:{line:90,column:57}},"50":{start:{line:91,column:16},end:{line:91,column:49}},"51":{start:{line:93,column:16},end:{line:93,column:38}},"52":{start:{line:94,column:16},end:{line:94,column:56}},"53":{start:{line:95,column:16},end:{line:95,column:64}},"54":{start:{line:100,column:4},end:{line:135,column:6}},"55":{start:{line:103,column:8},end:{line:122,column:10}},"56":{start:{line:105,column:25},end:{line:105,column:69}},"57":{start:{line:106,column:12},end:{line:106,column:24}},"58":{start:{line:109,column:28},end:{line:109,column:71}},"59":{start:{line:110,column:12},end:{line:110,column:33}},"60":{start:{line:112,column:12},end:{line:112,column:32}},"61":{start:{line:114,column:12},end:{line:114,column:32}},"62":{start:{line:117,column:25},end:{line:117,column:81}},"63":{start:{line:118,column:12},end:{line:118,column:28}},"64":{start:{line:121,column:12},end:{line:121,column:38}},"65":{start:{line:124,column:8},end:{line:134,column:10}},"66":{start:{line:125,column:12},end:{line:133,column:13}},"67":{start:{line:126,column:30},end:{line:126,column:57}},"68":{start:{line:127,column:16},end:{line:127,column:73}},"69":{start:{line:130,column:16},end:{line:130,column:38}},"70":{start:{line:131,column:16},end:{line:131,column:56}},"71":{start:{line:132,column:16},end:{line:132,column:91}},"72":{start:{line:137,column:4},end:{line:140,column:6}},"73":{start:{line:138,column:8},end:{line:138,column:74}},"74":{start:{line:139,column:8},end:{line:139,column:35}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:26},end:{line:10,column:27}},loc:{start:{line:10,column:32},end:{line:142,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:11},end:{line:11,column:12}},loc:{start:{line:11,column:23},end:{line:17,column:5}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:19,column:15},end:{line:19,column:16}},loc:{start:{line:19,column:21},end:{line:27,column:5}},line:19},"3":{name:"(anonymous_3)",decl:{start:{line:29,column:44},end:{line:29,column:45}},loc:{start:{line:29,column:50},end:{line:62,column:5}},line:29},"4":{name:"(anonymous_4)",decl:{start:{line:32,column:19},end:{line:32,column:20}},loc:{start:{line:32,column:31},end:{line:48,column:9}},line:32},"5":{name:"(anonymous_5)",decl:{start:{line:50,column:51},end:{line:50,column:52}},loc:{start:{line:50,column:63},end:{line:61,column:9}},line:50},"6":{name:"(anonymous_6)",decl:{start:{line:64,column:41},end:{line:64,column:42}},loc:{start:{line:64,column:47},end:{line:98,column:5}},line:64},"7":{name:"(anonymous_7)",decl:{start:{line:67,column:19},end:{line:67,column:20}},loc:{start:{line:67,column:31},end:{line:86,column:9}},line:67},"8":{name:"(anonymous_8)",decl:{start:{line:88,column:36},end:{line:88,column:37}},loc:{start:{line:88,column:48},end:{line:97,column:9}},line:88},"9":{name:"(anonymous_9)",decl:{start:{line:100,column:44},end:{line:100,column:45}},loc:{start:{line:100,column:50},end:{line:135,column:5}},line:100},"10":{name:"(anonymous_10)",decl:{start:{line:103,column:19},end:{line:103,column:20}},loc:{start:{line:103,column:31},end:{line:122,column:9}},line:103},"11":{name:"(anonymous_11)",decl:{start:{line:124,column:36},end:{line:124,column:37}},loc:{start:{line:124,column:48},end:{line:134,column:9}},line:124},"12":{name:"(anonymous_12)",decl:{start:{line:137,column:10},end:{line:137,column:11}},loc:{start:{line:137,column:22},end:{line:140,column:5}},line:137}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e9c9f6dc5e7d7aef3402f60503fc3e91fb31d28d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1g2of9jqo6=function(){return actualCoverage;};}return actualCoverage;}cov_1g2of9jqo6();cov_1g2of9jqo6().s[0]++;require('dotenv').config();const{expect}=(cov_1g2of9jqo6().s[1]++,require('chai'));const{env:{TEST_MONGODB_URL}}=(cov_1g2of9jqo6().s[2]++,process);const{mongoose,models:{User,Project,Task}}=(cov_1g2of9jqo6().s[3]++,require('serntask-data'));const{random}=(cov_1g2of9jqo6().s[4]++,Math);const retrieveTasks=(cov_1g2of9jqo6().s[5]++,require('./retrieve-tasks'));cov_1g2of9jqo6().s[6]++;describe('retrieveTasks',()=>{cov_1g2of9jqo6().f[0]++;cov_1g2of9jqo6().s[7]++;before(async()=>{cov_1g2of9jqo6().f[1]++;cov_1g2of9jqo6().s[8]++;await mongoose.connect(TEST_MONGODB_URL,{useNewUrlParser:true,useUnifiedTopology:true});cov_1g2of9jqo6().s[9]++;await[User.deleteMany(),Project.deleteMany(),Task.deleteMany()];});cov_1g2of9jqo6().s[10]++;beforeEach(()=>{cov_1g2of9jqo6().f[2]++;cov_1g2of9jqo6().s[11]++;name=`name-${random()}`;cov_1g2of9jqo6().s[12]++;email=`email-${random()}@mail.com`;cov_1g2of9jqo6().s[13]++;password=`password-${random()}`;cov_1g2of9jqo6().s[14]++;projectName=`projectName-${random()}`;cov_1g2of9jqo6().s[15]++;taskName=`taskName-${random()}`;});cov_1g2of9jqo6().s[16]++;describe('when user and project exist',()=>{cov_1g2of9jqo6().f[3]++;let id,_project,taskId;cov_1g2of9jqo6().s[17]++;beforeEach(async()=>{cov_1g2of9jqo6().f[4]++;// creamos user.
const user=(cov_1g2of9jqo6().s[18]++,await User.create({name,email,password}));cov_1g2of9jqo6().s[19]++;id=user.id;// creamos project.
const project=(cov_1g2of9jqo6().s[20]++,await Project({name:projectName}));cov_1g2of9jqo6().s[21]++;_project=project.id;cov_1g2of9jqo6().s[22]++;project.creator=id;cov_1g2of9jqo6().s[23]++;await project.save();// creamos una task.
const task=(cov_1g2of9jqo6().s[24]++,await Task.create({name:taskName,project:_project}));cov_1g2of9jqo6().s[25]++;taskId=task.id;});cov_1g2of9jqo6().s[26]++;it('should succeed in retrieve all tasks',async()=>{cov_1g2of9jqo6().f[5]++;const tasks=(cov_1g2of9jqo6().s[27]++,await retrieveTasks(id,_project));cov_1g2of9jqo6().s[28]++;expect(tasks).to.exist;cov_1g2of9jqo6().s[29]++;expect(tasks).to.be.an('array');cov_1g2of9jqo6().s[30]++;expect(tasks[0].id).to.be.exist;cov_1g2of9jqo6().s[31]++;expect(tasks[0].id).to.be.a('string');cov_1g2of9jqo6().s[32]++;expect(tasks[0].name).to.be.equal(taskName);cov_1g2of9jqo6().s[33]++;expect(tasks[0].status).to.be.false;cov_1g2of9jqo6().s[34]++;expect(tasks[0].project.toString()).to.be.equal(_project);cov_1g2of9jqo6().s[35]++;expect(tasks[0].date).to.be.an.instanceOf(Date);});});cov_1g2of9jqo6().s[36]++;describe('when user does not exist',()=>{cov_1g2of9jqo6().f[6]++;let id,_project,taskId;cov_1g2of9jqo6().s[37]++;beforeEach(async()=>{cov_1g2of9jqo6().f[7]++;// creamos user.
const user=(cov_1g2of9jqo6().s[38]++,await User.create({name,email,password}));cov_1g2of9jqo6().s[39]++;id=user.id;// creamos project.
const project=(cov_1g2of9jqo6().s[40]++,await Project.create({name:projectName}));cov_1g2of9jqo6().s[41]++;_project=project.id;cov_1g2of9jqo6().s[42]++;project.creator=id;cov_1g2of9jqo6().s[43]++;await project.save();// creamos task.
const task=(cov_1g2of9jqo6().s[44]++,await Task.create({name:taskName,project:_project}));cov_1g2of9jqo6().s[45]++;taskId=task.id;// eliminamos user.
cov_1g2of9jqo6().s[46]++;await User.deleteMany();});cov_1g2of9jqo6().s[47]++;it('should fail and throw',async()=>{cov_1g2of9jqo6().f[8]++;cov_1g2of9jqo6().s[48]++;try{const tasks=(cov_1g2of9jqo6().s[49]++,retrieveTasks(id,_project));cov_1g2of9jqo6().s[50]++;throw new Error('Not authorized');}catch(error){cov_1g2of9jqo6().s[51]++;expect(error).to.exist;cov_1g2of9jqo6().s[52]++;expect(error).to.be.an.instanceOf(Error);cov_1g2of9jqo6().s[53]++;expect(error.message).to.equal('Not authorized');}});});cov_1g2of9jqo6().s[54]++;describe('when project does not exist',()=>{cov_1g2of9jqo6().f[9]++;let id,_project,taskId;cov_1g2of9jqo6().s[55]++;beforeEach(async()=>{cov_1g2of9jqo6().f[10]++;// creamos user.
const user=(cov_1g2of9jqo6().s[56]++,await User.create({name,email,password}));cov_1g2of9jqo6().s[57]++;id=user.id;// creamos project.
const project=(cov_1g2of9jqo6().s[58]++,await Project.create({name:projectName}));cov_1g2of9jqo6().s[59]++;_project=project.id;cov_1g2of9jqo6().s[60]++;project.creator=id;cov_1g2of9jqo6().s[61]++;await project.save();// creamos task.
const task=(cov_1g2of9jqo6().s[62]++,await Task.create({name:taskName,project:_project}));cov_1g2of9jqo6().s[63]++;taskId=task.id;// eliminamos project.
cov_1g2of9jqo6().s[64]++;await Project.deleteMany();});cov_1g2of9jqo6().s[65]++;it('should fail and throw',async()=>{cov_1g2of9jqo6().f[11]++;cov_1g2of9jqo6().s[66]++;try{const tasks=(cov_1g2of9jqo6().s[67]++,retrieveTasks(id,_project));cov_1g2of9jqo6().s[68]++;throw new Error(`project with id: ${_project} not found`);}catch(error){cov_1g2of9jqo6().s[69]++;expect(error).to.exist;cov_1g2of9jqo6().s[70]++;expect(error).to.be.an.instanceOf(Error);cov_1g2of9jqo6().s[71]++;expect(error.message).to.be.equal(`project with id: ${_project} not found`);}});});cov_1g2of9jqo6().s[72]++;after(async()=>{cov_1g2of9jqo6().f[12]++;cov_1g2of9jqo6().s[73]++;await[User.deleteMany(),Project.deleteMany(),Task.deleteMany()];cov_1g2of9jqo6().s[74]++;await mongoose.disconnect();});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldHJpZXZlLXRhc2tzLnNwZWMuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsImNvbmZpZyIsImV4cGVjdCIsImVudiIsIlRFU1RfTU9OR09EQl9VUkwiLCJwcm9jZXNzIiwibW9uZ29vc2UiLCJtb2RlbHMiLCJVc2VyIiwiUHJvamVjdCIsIlRhc2siLCJyYW5kb20iLCJNYXRoIiwicmV0cmlldmVUYXNrcyIsImRlc2NyaWJlIiwiYmVmb3JlIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImRlbGV0ZU1hbnkiLCJiZWZvcmVFYWNoIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJwcm9qZWN0TmFtZSIsInRhc2tOYW1lIiwiaWQiLCJfcHJvamVjdCIsInRhc2tJZCIsInVzZXIiLCJjcmVhdGUiLCJwcm9qZWN0IiwiY3JlYXRvciIsInNhdmUiLCJ0YXNrIiwiaXQiLCJ0YXNrcyIsInRvIiwiZXhpc3QiLCJiZSIsImFuIiwiYSIsImVxdWFsIiwic3RhdHVzIiwiZmFsc2UiLCJ0b1N0cmluZyIsImRhdGUiLCJpbnN0YW5jZU9mIiwiRGF0ZSIsIkVycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwiYWZ0ZXIiLCJkaXNjb25uZWN0Il0sIm1hcHBpbmdzIjoiNHlPQWVZO21IQWZaQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHQUNBLEtBQU0sQ0FBRUMsTUFBRiwyQkFBYUYsT0FBTyxDQUFDLE1BQUQsQ0FBcEIsQ0FBTixDQUNBLEtBQU0sQ0FBRUcsR0FBRyxDQUFFLENBQUVDLGdCQUFGLENBQVAsMkJBQWdDQyxPQUFoQyxDQUFOLENBQ0EsS0FBTSxDQUFFQyxRQUFGLENBQVlDLE1BQU0sQ0FBRSxDQUFFQyxJQUFGLENBQVFDLE9BQVIsQ0FBaUJDLElBQWpCLENBQXBCLDJCQUFnRFYsT0FBTyxDQUFDLGVBQUQsQ0FBdkQsQ0FBTixDQUVBLEtBQU0sQ0FBRVcsTUFBRiwyQkFBYUMsSUFBYixDQUFOLENBQ0Es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QUFDZ0QsS0FBRCxDQUFOLENBQWNiLEVBQWQsQ0FBaUJDLEtBQWpCLENBRFkseUJBRVpwQyxNQUFNLENBQUNnRCxLQUFELENBQU4sQ0FBY2IsRUFBZCxDQUFpQkUsRUFBakIsQ0FBb0JDLEVBQXBCLENBQXVCTyxVQUF2QixDQUFrQ0UsS0FBbEMsRUFGWSx5QkFHWi9DLE1BQU0sQ0FBQ2dELEtBQUssQ0FBQ0MsT0FBUCxDQUFOLENBQXNCZCxFQUF0QixDQUF5QkUsRUFBekIsQ0FBNEJHLEtBQTVCLENBQW1DLG9CQUFtQmYsUUFBUyxZQUEvRCxFQUNILENBQ0osQ0FWQyxDQUFGLENBV0gsQ0FuQ08sQ0FBUixDQTFGNEIseUJBK0g1QnlCLEtBQUssQ0FBQyxTQUFZLG1EQUNkLEtBQU0sQ0FBQzVDLElBQUksQ0FBQ1csVUFBTCxFQUFELENBQW9CVixPQUFPLENBQUNVLFVBQVIsRUFBcEIsQ0FBMENULElBQUksQ0FBQ1MsVUFBTCxFQUExQyxDQUFOLENBRGMseUJBRWQsS0FBTWIsQ0FBQUEsUUFBUSxDQUFDK0MsVUFBVCxFQUFOLENBQ0gsQ0FISSxDQUFMLENBS0gsQ0FwSU8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpXG5jb25zdCB7IGV4cGVjdCB9ID0gcmVxdWlyZSgnY2hhaScpXG5jb25zdCB7IGVudjogeyBURVNUX01PTkdPREJfVVJMIH0gfSA9IHByb2Nlc3NcbmNvbnN0IHsgbW9uZ29vc2UsIG1vZGVsczogeyBVc2VyLCBQcm9qZWN0LCBUYXNrIH0gfSA9IHJlcXVpcmUoJ3Nlcm50YXNrLWRhdGEnKVxuXG5jb25zdCB7IHJhbmRvbSB9ID0gTWF0aFxuY29uc3QgcmV0cmlldmVUYXNrcyA9IHJlcXVpcmUoJy4vcmV0cmlldmUtdGFza3MnKVxuXG5cbmRlc2NyaWJlKCdyZXRyaWV2ZVRhc2tzJywgKCkgPT4ge1xuICAgIGJlZm9yZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QoVEVTVF9NT05HT0RCX1VSTCwge1xuICAgICAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlXG4gICAgICAgIH0pXG4gICAgICAgIGF3YWl0IFtVc2VyLmRlbGV0ZU1hbnkoKSwgUHJvamVjdC5kZWxldGVNYW55KCksIFRhc2suZGVsZXRlTWFueSgpXVxuICAgIH0pXG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgbmFtZSA9IGBuYW1lLSR7cmFuZG9tKCl9YFxuICAgICAgICBlbWFpbCA9IGBlbWFpbC0ke3JhbmRvbSgpfUBtYWlsLmNvbWBcbiAgICAgICAgcGFzc3dvcmQgPSBgcGFzc3dvcmQtJHtyYW5kb20oKX1gXG5cbiAgICAgICAgcHJvamVjdE5hbWUgPSBgcHJvamVjdE5hbWUtJHtyYW5kb20oKX1gXG5cbiAgICAgICAgdGFza05hbWUgPSBgdGFza05hbWUtJHtyYW5kb20oKX1gXG4gICAgfSlcblxuICAgIGRlc2NyaWJlKCd3aGVuIHVzZXIgYW5kIHByb2plY3QgZXhpc3QnLCAoKSA9PiB7XG4gICAgICAgIGxldCBpZCwgX3Byb2plY3QsIHRhc2tJZFxuXG4gICAgICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gY3JlYW1vcyB1c2VyLlxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkIH0pXG4gICAgICAgICAgICBpZCA9IHVzZXIuaWRcblxuICAgICAgICAgICAgLy8gY3JlYW1vcyBwcm9qZWN0LlxuICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IFByb2plY3QoeyBuYW1lOiBwcm9qZWN0TmFtZSB9KVxuICAgICAgICAgICAgX3Byb2plY3QgPSBwcm9qZWN0LmlkXG5cbiAgICAgICAgICAgIHByb2plY3QuY3JlYXRvciA9IGlkXG5cbiAgICAgICAgICAgIGF3YWl0IHByb2plY3Quc2F2ZSgpXG5cbiAgICAgICAgICAgIC8vIGNyZWFtb3MgdW5hIHRhc2suXG4gICAgICAgICAgICBjb25zdCB0YXNrID0gYXdhaXQgVGFzay5jcmVhdGUoeyBuYW1lOiB0YXNrTmFtZSwgcHJvamVjdDogX3Byb2plY3QgfSlcbiAgICAgICAgICAgIHRhc2tJZCA9IHRhc2suaWRcbiAgICAgICAgfSlcblxuICAgICAgICBpdCgnc2hvdWxkIHN1Y2NlZWQgaW4gcmV0cmlldmUgYWxsIHRhc2tzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGFza3MgPSBhd2FpdCByZXRyaWV2ZVRhc2tzKGlkLCBfcHJvamVjdClcbiAgXG4gICAgICAgICAgICBleHBlY3QodGFza3MpLnRvLmV4aXN0XG4gICAgICAgICAgICBleHBlY3QodGFza3MpLnRvLmJlLmFuKCdhcnJheScpXG4gICAgICAgICAgICBleHBlY3QodGFza3NbMF0uaWQpLnRvLmJlLmV4aXN0XG4gICAgICAgICAgICBleHBlY3QodGFza3NbMF0uaWQpLnRvLmJlLmEoJ3N0cmluZycpXG4gICAgICAgICAgICBleHBlY3QodGFza3NbMF0ubmFtZSkudG8uYmUuZXF1YWwodGFza05hbWUpXG4gICAgICAgICAgICBleHBlY3QodGFza3NbMF0uc3RhdHVzKS50by5iZS5mYWxzZVxuICAgICAgICAgICAgZXhwZWN0KHRhc2tzWzBdLnByb2plY3QudG9TdHJpbmcoKSkudG8uYmUuZXF1YWwoX3Byb2plY3QpXG4gICAgICAgICAgICBleHBlY3QodGFza3NbMF0uZGF0ZSkudG8uYmUuYW4uaW5zdGFuY2VPZihEYXRlKVxuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiB1c2VyIGRvZXMgbm90IGV4aXN0JywgKCkgPT4ge1xuICAgICAgICBsZXQgaWQsIF9wcm9qZWN0LCB0YXNrSWRcblxuICAgICAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIGNyZWFtb3MgdXNlci5cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCB9KVxuICAgICAgICAgICAgaWQgPSB1c2VyLmlkXG5cbiAgICAgICAgICAgIC8vIGNyZWFtb3MgcHJvamVjdC5cbiAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCBQcm9qZWN0LmNyZWF0ZSh7IG5hbWU6IHByb2plY3ROYW1lIH0pXG4gICAgICAgICAgICBfcHJvamVjdCA9IHByb2plY3QuaWRcblxuICAgICAgICAgICAgcHJvamVjdC5jcmVhdG9yID0gaWRcblxuICAgICAgICAgICAgYXdhaXQgcHJvamVjdC5zYXZlKClcblxuICAgICAgICAgICAgLy8gY3JlYW1vcyB0YXNrLlxuICAgICAgICAgICAgY29uc3QgdGFzayA9IGF3YWl0IFRhc2suY3JlYXRlKHsgbmFtZTogdGFza05hbWUsIHByb2plY3Q6IF9wcm9qZWN0IH0pXG4gICAgICAgICAgICB0YXNrSWQgPSB0YXNrLmlkXG5cbiAgICAgICAgICAgIC8vIGVsaW1pbmFtb3MgdXNlci5cbiAgICAgICAgICAgIGF3YWl0IFVzZXIuZGVsZXRlTWFueSgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgaXQoJ3Nob3VsZCBmYWlsIGFuZCB0aHJvdycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza3MgPSByZXRyaWV2ZVRhc2tzKGlkLCBfcHJvamVjdClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhdXRob3JpemVkJylcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5leGlzdFxuICAgICAgICAgICAgICAgIGV4cGVjdChlcnJvcikudG8uYmUuYW4uaW5zdGFuY2VPZihFcnJvcilcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG8uZXF1YWwoJ05vdCBhdXRob3JpemVkJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgZGVzY3JpYmUoJ3doZW4gcHJvamVjdCBkb2VzIG5vdCBleGlzdCcsICgpID0+IHtcbiAgICAgICAgbGV0IGlkLCBfcHJvamVjdCwgdGFza0lkXG5cbiAgICAgICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBjcmVhbW9zIHVzZXIuXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5jcmVhdGUoeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQgfSlcbiAgICAgICAgICAgIGlkID0gdXNlci5pZFxuXG4gICAgICAgICAgICAvLyBjcmVhbW9zIHByb2plY3QuXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgUHJvamVjdC5jcmVhdGUoeyBuYW1lOiBwcm9qZWN0TmFtZSB9KVxuICAgICAgICAgICAgX3Byb2plY3QgPSBwcm9qZWN0LmlkXG5cbiAgICAgICAgICAgIHByb2plY3QuY3JlYXRvciA9IGlkXG5cbiAgICAgICAgICAgIGF3YWl0IHByb2plY3Quc2F2ZSgpXG5cbiAgICAgICAgICAgIC8vIGNyZWFtb3MgdGFzay5cbiAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBhd2FpdCBUYXNrLmNyZWF0ZSh7IG5hbWU6IHRhc2tOYW1lLCBwcm9qZWN0OiBfcHJvamVjdCB9KVxuICAgICAgICAgICAgdGFza0lkID0gdGFzay5pZFxuXG4gICAgICAgICAgICAvLyBlbGltaW5hbW9zIHByb2plY3QuXG4gICAgICAgICAgICBhd2FpdCBQcm9qZWN0LmRlbGV0ZU1hbnkoKVxuICAgICAgICB9KVxuXG4gICAgICAgIGl0KCdzaG91bGQgZmFpbCBhbmQgdGhyb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gcmV0cmlldmVUYXNrcyhpZCwgX3Byb2plY3QpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwcm9qZWN0IHdpdGggaWQ6ICR7X3Byb2plY3R9IG5vdCBmb3VuZGApXG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yKS50by5leGlzdFxuICAgICAgICAgICAgICAgIGV4cGVjdChlcnJvcikudG8uYmUuYW4uaW5zdGFuY2VPZihFcnJvcilcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG8uYmUuZXF1YWwoYHByb2plY3Qgd2l0aCBpZDogJHtfcHJvamVjdH0gbm90IGZvdW5kYClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgYWZ0ZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBbVXNlci5kZWxldGVNYW55KCksIFByb2plY3QuZGVsZXRlTWFueSgpLCBUYXNrLmRlbGV0ZU1hbnkoKV1cbiAgICAgICAgYXdhaXQgbW9uZ29vc2UuZGlzY29ubmVjdCgpXG4gICAgfSlcbiAgICAgICAgICAgIFxufSkiXX0=