function cov_173rpkmvi1(){var path="/Users/sergibittangonzalez/Desktop/SERNtask/serntask-server/logic/delete-project.js";var hash="6cbe59385f933c41d40e5d3f39decc2807aeb75a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/sergibittangonzalez/Desktop/SERNtask/serntask-server/logic/delete-project.js",statementMap:{"0":{start:{line:1,column:32},end:{line:1,column:56}},"1":{start:{line:3,column:22},end:{line:18,column:1}},"2":{start:{line:5,column:4},end:{line:17,column:8}},"3":{start:{line:6,column:24},end:{line:6,column:57}},"4":{start:{line:8,column:8},end:{line:8,column:58}},"5":{start:{line:8,column:22},end:{line:8,column:58}},"6":{start:{line:10,column:8},end:{line:10,column:80}},"7":{start:{line:10,column:47},end:{line:10,column:80}},"8":{start:{line:12,column:8},end:{line:12,column:58}},"9":{start:{line:14,column:8},end:{line:14,column:14}},"10":{start:{line:20,column:0},end:{line:20,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:22},end:{line:3,column:23}},loc:{start:{line:3,column:41},end:{line:18,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:24},end:{line:17,column:5}},line:5}},branchMap:{"0":{loc:{start:{line:8,column:8},end:{line:8,column:58}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:58}},{start:{line:8,column:8},end:{line:8,column:58}}],line:8},"1":{loc:{start:{line:10,column:8},end:{line:10,column:80}},type:"if",locations:[{start:{line:10,column:8},end:{line:10,column:80}},{start:{line:10,column:8},end:{line:10,column:80}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6cbe59385f933c41d40e5d3f39decc2807aeb75a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_173rpkmvi1=function(){return actualCoverage;};}return actualCoverage;}cov_173rpkmvi1();const{models:{Project}}=(cov_173rpkmvi1().s[0]++,require('serntask-data'));cov_173rpkmvi1().s[1]++;const deleteProject=(id,projectId)=>{cov_173rpkmvi1().f[0]++;cov_173rpkmvi1().s[2]++;return(async()=>{cov_173rpkmvi1().f[1]++;const project=(cov_173rpkmvi1().s[3]++,await Project.findById(projectId));cov_173rpkmvi1().s[4]++;if(!project){cov_173rpkmvi1().b[0][0]++;cov_173rpkmvi1().s[5]++;throw new Error('Project not found');}else{cov_173rpkmvi1().b[0][1]++;}cov_173rpkmvi1().s[6]++;if(project.creator.toString()!==id){cov_173rpkmvi1().b[1][0]++;cov_173rpkmvi1().s[7]++;throw new Error('Not authorized');}else{cov_173rpkmvi1().b[1][1]++;}cov_173rpkmvi1().s[8]++;await Project.findOneAndRemove({_id:projectId});cov_173rpkmvi1().s[9]++;return;})();};cov_173rpkmvi1().s[10]++;module.exports=deleteProject;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbGV0ZS1wcm9qZWN0LmpzIl0sIm5hbWVzIjpbIm1vZGVscyIsIlByb2plY3QiLCJyZXF1aXJlIiwiZGVsZXRlUHJvamVjdCIsImlkIiwicHJvamVjdElkIiwicHJvamVjdCIsImZpbmRCeUlkIiwiRXJyb3IiLCJjcmVhdG9yIiwidG9TdHJpbmciLCJmaW5kT25lQW5kUmVtb3ZlIiwiX2lkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Im0rREFlWTsyRkFmWixLQUFNLENBQUVBLE1BQU0sQ0FBRSxDQUFFQyxPQUFGLENBQVYsMkJBQTBCQyxPQUFPLENBQUMsZUFBRCxDQUFqQyxDQUFOLEMsd0JBRUEsS0FBTUMsQ0FBQUEsYUFBYSxDQUFHLENBQUNDLEVBQUQsQ0FBS0MsU0FBTCxHQUFtQixpREFFckMsTUFBTyxDQUFDLFNBQVkseUJBQ2hCLEtBQU1DLENBQUFBLE9BQU8sMEJBQUcsS0FBTUwsQ0FBQUEsT0FBTyxDQUFDTSxRQUFSLENBQWlCRixTQUFqQixDQUFULENBQWIsQ0FEZ0Isd0JBR2hCLEdBQUksQ0FBQ0MsT0FBTCxDQUFjLHlEQUFNLElBQUlFLENBQUFBLEtBQUosQ0FBVSxtQkFBVixDQUFOLENBQW9DLENBQWxELGlDQUhnQix3QkFLaEIsR0FBSUYsT0FBTyxDQUFDRyxPQUFSLENBQWdCQyxRQUFoQixLQUErQk4sRUFBbkMsQ0FBdUMseURBQU0sSUFBSUksQ0FBQUEsS0FBSixDQUFVLGdCQUFWLENBQU4sQ0FBaUMsQ0FBeEUsaUNBTGdCLHdCQU9oQixLQUFNUCxDQUFBQSxPQUFPLENBQUNVLGdCQUFSLENBQXlCLENBQUVDLEdBQUcsQ0FBRVAsU0FBUCxDQUF6QixDQUFOLENBUGdCLHdCQVNoQixPQUdILENBWk0sR0FBUCxDQWFILENBZkQsQyx5QkFpQkFRLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQlgsYUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IG1vZGVsczogeyBQcm9qZWN0IH0gfSA9IHJlcXVpcmUoJ3Nlcm50YXNrLWRhdGEnKVxuXG5jb25zdCBkZWxldGVQcm9qZWN0ID0gKGlkLCBwcm9qZWN0SWQpID0+IHtcblxuICAgIHJldHVybiAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgUHJvamVjdC5maW5kQnlJZChwcm9qZWN0SWQpXG4gICAgICAgIFxuICAgICAgICBpZiAoIXByb2plY3QpIHRocm93IG5ldyBFcnJvcignUHJvamVjdCBub3QgZm91bmQnKVxuXG4gICAgICAgIGlmIChwcm9qZWN0LmNyZWF0b3IudG9TdHJpbmcoKSAhPT0gaWQpIHRocm93IG5ldyBFcnJvcignTm90IGF1dGhvcml6ZWQnKVxuXG4gICAgICAgIGF3YWl0IFByb2plY3QuZmluZE9uZUFuZFJlbW92ZSh7IF9pZDogcHJvamVjdElkIH0pXG5cbiAgICAgICAgcmV0dXJuIFxuXG5cbiAgICB9KSgpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVsZXRlUHJvamVjdCJdfQ==