function cov_vlk2sl8a4(){var path="/Users/sergibittangonzalez/Desktop/SERNtask/serntask-server/logic/retrieve-tasks.js";var hash="abebb4640e9f55f284c3307667a1aee8b16441d2";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/sergibittangonzalez/Desktop/SERNtask/serntask-server/logic/retrieve-tasks.js",statementMap:{"0":{start:{line:1,column:38},end:{line:1,column:62}},"1":{start:{line:4,column:22},end:{line:23,column:1}},"2":{start:{line:6,column:4},end:{line:22,column:8}},"3":{start:{line:7,column:25},end:{line:7,column:56}},"4":{start:{line:9,column:8},end:{line:9,column:79}},"5":{start:{line:9,column:23},end:{line:9,column:79}},"6":{start:{line:10,column:8},end:{line:10,column:81}},"7":{start:{line:10,column:48},end:{line:10,column:81}},"8":{start:{line:12,column:22},end:{line:12,column:57}},"9":{start:{line:14,column:8},end:{line:19,column:10}},"10":{start:{line:15,column:12},end:{line:15,column:41}},"11":{start:{line:17,column:12},end:{line:17,column:27}},"12":{start:{line:18,column:12},end:{line:18,column:27}},"13":{start:{line:21,column:8},end:{line:21,column:20}},"14":{start:{line:25,column:0},end:{line:25,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:22},end:{line:4,column:23}},loc:{start:{line:4,column:39},end:{line:23,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:12},end:{line:6,column:13}},loc:{start:{line:6,column:24},end:{line:22,column:5}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:14,column:22},end:{line:14,column:23}},loc:{start:{line:14,column:30},end:{line:19,column:9}},line:14}},branchMap:{"0":{loc:{start:{line:9,column:8},end:{line:9,column:79}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:79}},{start:{line:9,column:8},end:{line:9,column:79}}],line:9},"1":{loc:{start:{line:10,column:8},end:{line:10,column:81}},type:"if",locations:[{start:{line:10,column:8},end:{line:10,column:81}},{start:{line:10,column:8},end:{line:10,column:81}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"abebb4640e9f55f284c3307667a1aee8b16441d2"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_vlk2sl8a4=function(){return actualCoverage;};}return actualCoverage;}cov_vlk2sl8a4();const{models:{Project,Task}}=(cov_vlk2sl8a4().s[0]++,require('serntask-data'));cov_vlk2sl8a4().s[1]++;const retrieveTasks=(id,project)=>{cov_vlk2sl8a4().f[0]++;cov_vlk2sl8a4().s[2]++;return(async()=>{cov_vlk2sl8a4().f[1]++;const _project=(cov_vlk2sl8a4().s[3]++,await Project.findById(project));cov_vlk2sl8a4().s[4]++;if(!_project){cov_vlk2sl8a4().b[0][0]++;cov_vlk2sl8a4().s[5]++;throw new Error(`project with id: ${project} not found`);}else{cov_vlk2sl8a4().b[0][1]++;}cov_vlk2sl8a4().s[6]++;if(_project.creator.toString()!==id){cov_vlk2sl8a4().b[1][0]++;cov_vlk2sl8a4().s[7]++;throw new Error('Not authorized');}else{cov_vlk2sl8a4().b[1][1]++;}const tasks=(cov_vlk2sl8a4().s[8]++,await Task.find({project}).lean());cov_vlk2sl8a4().s[9]++;tasks.forEach(task=>{cov_vlk2sl8a4().f[2]++;cov_vlk2sl8a4().s[10]++;task.id=task._id.toString();cov_vlk2sl8a4().s[11]++;delete task._id;cov_vlk2sl8a4().s[12]++;delete task.__v;});cov_vlk2sl8a4().s[13]++;return tasks;})();};cov_vlk2sl8a4().s[14]++;module.exports=retrieveTasks;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldHJpZXZlLXRhc2tzLmpzIl0sIm5hbWVzIjpbIm1vZGVscyIsIlByb2plY3QiLCJUYXNrIiwicmVxdWlyZSIsInJldHJpZXZlVGFza3MiLCJpZCIsInByb2plY3QiLCJfcHJvamVjdCIsImZpbmRCeUlkIiwiRXJyb3IiLCJjcmVhdG9yIiwidG9TdHJpbmciLCJ0YXNrcyIsImZpbmQiLCJsZWFuIiwiZm9yRWFjaCIsInRhc2siLCJfaWQiLCJfX3YiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiMjNFQWVZO3lGQWZaLEtBQU0sQ0FBRUEsTUFBTSxDQUFFLENBQUVDLE9BQUYsQ0FBV0MsSUFBWCxDQUFWLDBCQUFnQ0MsT0FBTyxDQUFDLGVBQUQsQ0FBdkMsQ0FBTixDLHVCQUdBLEtBQU1DLENBQUFBLGFBQWEsQ0FBRyxDQUFDQyxFQUFELENBQUtDLE9BQUwsR0FBaUIsK0NBRW5DLE1BQU8sQ0FBQyxTQUFZLHdCQUNoQixLQUFNQyxDQUFBQSxRQUFRLHlCQUFHLEtBQU1OLENBQUFBLE9BQU8sQ0FBQ08sUUFBUixDQUFpQkYsT0FBakIsQ0FBVCxDQUFkLENBRGdCLHVCQUdoQixHQUFJLENBQUNDLFFBQUwsQ0FBZSx1REFBTSxJQUFJRSxDQUFBQSxLQUFKLENBQVcsb0JBQW1CSCxPQUFRLFlBQXRDLENBQU4sQ0FBd0QsQ0FBdkUsZ0NBSGdCLHVCQUloQixHQUFJQyxRQUFRLENBQUNHLE9BQVQsQ0FBaUJDLFFBQWpCLEtBQWdDTixFQUFwQyxDQUF3Qyx1REFBTSxJQUFJSSxDQUFBQSxLQUFKLENBQVUsZ0JBQVYsQ0FBTixDQUFpQyxDQUF6RSxnQ0FFQSxLQUFNRyxDQUFBQSxLQUFLLHlCQUFHLEtBQU1WLENBQUFBLElBQUksQ0FBQ1csSUFBTCxDQUFVLENBQUVQLE9BQUYsQ0FBVixFQUF1QlEsSUFBdkIsRUFBVCxDQUFYLENBTmdCLHVCQVFoQkYsS0FBSyxDQUFDRyxPQUFOLENBQWNDLElBQUksRUFBSSxnREFDbEJBLElBQUksQ0FBQ1gsRUFBTCxDQUFVVyxJQUFJLENBQUNDLEdBQUwsQ0FBU04sUUFBVCxFQUFWLENBRGtCLHdCQUdsQixNQUFPSyxDQUFBQSxJQUFJLENBQUNDLEdBQVosQ0FIa0Isd0JBSWxCLE1BQU9ELENBQUFBLElBQUksQ0FBQ0UsR0FBWixDQUNILENBTEQsRUFSZ0Isd0JBZWhCLE1BQU9OLENBQUFBLEtBQVAsQ0FDSCxDQWhCTSxHQUFQLENBaUJILENBbkJELEMsd0JBcUJBTyxNQUFNLENBQUNDLE9BQVAsQ0FBaUJoQixhQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgbW9kZWxzOiB7IFByb2plY3QsIFRhc2sgfSB9ID0gcmVxdWlyZSgnc2VybnRhc2stZGF0YScpXG5cblxuY29uc3QgcmV0cmlldmVUYXNrcyA9IChpZCwgcHJvamVjdCkgPT4ge1xuICAgIFxuICAgIHJldHVybiAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBfcHJvamVjdCA9IGF3YWl0IFByb2plY3QuZmluZEJ5SWQocHJvamVjdClcblxuICAgICAgICBpZiAoIV9wcm9qZWN0KSB0aHJvdyBuZXcgRXJyb3IoYHByb2plY3Qgd2l0aCBpZDogJHtwcm9qZWN0fSBub3QgZm91bmRgKVxuICAgICAgICBpZiAoX3Byb2plY3QuY3JlYXRvci50b1N0cmluZygpICE9PSBpZCkgdGhyb3cgbmV3IEVycm9yKCdOb3QgYXV0aG9yaXplZCcpXG5cbiAgICAgICAgY29uc3QgdGFza3MgPSBhd2FpdCBUYXNrLmZpbmQoeyBwcm9qZWN0IH0pLmxlYW4oKVxuXG4gICAgICAgIHRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgICAgICB0YXNrLmlkID0gdGFzay5faWQudG9TdHJpbmcoKVxuXG4gICAgICAgICAgICBkZWxldGUgdGFzay5faWRcbiAgICAgICAgICAgIGRlbGV0ZSB0YXNrLl9fdlxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiB0YXNrc1xuICAgIH0pKClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXRyaWV2ZVRhc2tzIl19